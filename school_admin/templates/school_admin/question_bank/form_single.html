{% extends "accounts/base.html" %}
{% block content %}

<div class="max-w-3xl mx-auto px-4 py-6">
  <h1 class="text-2xl font-bold text-{{ school.theme_color }}-600">Edit Question</h1>

  <form method="post" class="space-y-6 bg-white rounded-xl shadow p-6">
    {% csrf_token %}

    <!-- Subject (read-only) -->
    <div>
      <label class="block text-sm font-medium mb-1">Subject</label>
      <input type="text" class="w-full border rounded-lg px-3 py-2 bg-gray-100 cursor-not-allowed" 
             value="{{ form.instance.subject.name }}" readonly>
    </div>

    <!-- Class (read-only) -->
    <div>
      <label class="block text-sm font-medium mb-1">Class</label>
      <input type="text" class="w-full border rounded-lg px-3 py-2 bg-gray-100 cursor-not-allowed"
             value="{{ form.instance.school_class.name }}" readonly>
    </div>

    <!-- Term (read-only) -->
    <div>
      <label class="block text-sm font-medium mb-1">Term</label>
      <input type="text" class="w-full border rounded-lg px-3 py-2 bg-gray-100 cursor-not-allowed"
             value="Term {{ form.instance.term }}" readonly>
    </div>

    <!-- Session (read-only) -->
    <div>
      <label class="block text-sm font-medium mb-1">Session</label>
      <input type="text" class="w-full border rounded-lg px-3 py-2 bg-gray-100 cursor-not-allowed"
             value="{{ form.instance.session }}" readonly>
    </div>

    <!-- Question Text -->
    <div>
      <label class="block text-sm font-medium mb-1">Question</label>
      {{ form.text }}
    </div>

    <!-- Options -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>{{ form.option_a.label_tag }}{{ form.option_a }}</div>
      <div>{{ form.option_b.label_tag }}{{ form.option_b }}</div>
      <div>{{ form.option_c.label_tag }}{{ form.option_c }}</div>
      <div>{{ form.option_d.label_tag }}{{ form.option_d }}</div>
    </div>

    <!-- Correct Option and Marks -->
    <div class="grid grid-cols-2 gap-4 mt-3">
      <div>{{ form.correct_option.label_tag }}{{ form.correct_option }}</div>
      <div>{{ form.marks.label_tag }}{{ form.marks }}</div>
    </div>

    <div class="flex justify-end gap-3 pt-4">
      <a href="{% url 'school_admin:question_bank_list' %}" class="px-4 py-2 rounded-lg border">
        Cancel
      </a>
      <button type="submit" class="px-6 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700">
        Save Changes
      </button>
    </div>
  </form>
</div>

{% endblock %}
