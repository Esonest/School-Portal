<div class="p-4 border rounded-lg flex justify-between items-start bg-white shadow-sm hover:shadow-md transition">
  <!-- Left: Note Info -->
  <div class="flex-1">
    {% if note.pk %}
      <a href="{% url 'notes:note_detail' note.pk %}"
         class="text-indigo-600 font-semibold text-lg hover:underline">
        {{ note.title }}
      </a>
    {% else %}
      <span class="text-gray-500 font-semibold text-lg">{{ note.title }}</span>
    {% endif %}

    <div class="text-sm text-gray-600 mt-1">
      {% if note.subject %}{{ note.subject.name }}{% endif %}
      â€¢ Published: {{ note.publish_date|date:"M d, Y" }}
    </div>

    {% if note.content %}
      <div class="text-sm text-gray-500 mt-2">
        {{ note.content|truncatewords:20 }}
      </div>
    {% endif %}

    {% if note.file and note.pk %}
      <div class="mt-3">
        <a href="{% url 'notes:download_note_file' note.pk %}"
           class="inline-block px-3 py-1 bg-indigo-500 text-white rounded text-sm hover:bg-indigo-600 transition">
          ğŸ“„ Download Note
        </a>
      </div>
    {% endif %}
  </div>

  <!-- Right: Teacher Action Buttons -->
  {% if is_teacher %}
  <div class="text-right ml-4 flex flex-col items-end space-y-2">
    {% if note.pk %}
      <!-- Edit Button -->
      <a href="{% url 'notes:edit_note' note.pk %}"
         class="px-3 py-1 bg-yellow-400 text-gray-800 rounded hover:bg-yellow-500 transition text-sm">
        âœï¸ Edit
      </a>

      <!-- Delete Button -->
      <form action="{% url 'notes:delete_note' note.pk %}" method="POST"
            onsubmit="return confirm('Are you sure you want to delete this note?');">
        {% csrf_token %}
        <button type="submit"
                class="px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition text-sm">
          ğŸ—‘ï¸ Delete
        </button>
      </form>
    {% else %}
      <span class="text-sm text-gray-400 italic">Unsaved draft</span>
    {% endif %}
  </div>
  {% endif %}
</div>
