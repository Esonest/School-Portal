{% extends 'accounts/base.html' %}
{% block content %}
<div class="max-w-3xl mx-auto p-6">
  <h1 class="text-2xl font-bold">My Profile</h1>
  <form method="post" class="mt-4">{% csrf_token %}
    <div class="grid grid-cols-1 gap-4">
      {{ form.as_p }}
      <button class="px-4 py-2 bg-indigo-600 text-white rounded">Save</button>
    </div>
  </form>
</div>
<button id="openProfile" class="btn">Edit Profile</button>
<div id="profileModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
  <div class="bg-white p-6 rounded">
    <button id="closeProfile">Close</button>
    <!-- render profile form here or via AJAX -->
    <form id="profileForm" method="post">{% csrf_token %}{{ form.as_p }}<button type="submit">Save</button></form>
  </div>
</div>
<script>
document.getElementById('openProfile').addEventListener('click', ()=>{ document.getElementById('profileModal').classList.remove('hidden'); });
document.getElementById('closeProfile').addEventListener('click', ()=>{ document.getElementById('profileModal').classList.add('hidden'); });
</script>
{% endblock %}