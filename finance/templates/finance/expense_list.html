<!-- finance/templates/finance/expense_list.html -->
{% extends "finance/base_finance.html" %}
{% block title %}Expenses{% endblock %}

{% block actions %}
<a href="{% url 'finance:expense_create' %}"
   class="inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition text-sm sm:text-base">
   + New Expense
</a>
{% endblock %}

{% block body %}

<!-- DESKTOP & TABLET TABLE -->
<div class="hidden sm:block bg-white shadow rounded-lg overflow-x-auto">
  <table class="w-full text-sm md:text-base">
    <thead class="bg-gray-100 text-gray-700">
      <tr>
        <th class="p-3 text-left">Title</th>
        <th class="p-3 text-left">Amount</th>
        <th class="p-3 text-left">Date</th>
        <th class="p-3 text-right">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for expense in expenses %}
      <tr class="border-t hover:bg-gray-50 transition">
        <td class="p-3 font-medium">{{ expense.title }}</td>
        <td class="p-3">₦{{ expense.amount|floatformat:2 }}</td>
        <td class="p-3">{{ expense.expense_date }}</td>
        <td class="p-3 text-right space-x-3 whitespace-nowrap">
          <a href="{% url 'finance:expense_update' expense.id %}" class="text-green-600 hover:underline">Edit</a>
          <a href="{% url 'finance:expense_delete' expense.id %}" class="text-red-600 hover:underline">Delete</a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4" class="p-6 text-center text-gray-500">
          No expenses found.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<!-- MOBILE CARD VIEW -->
<div class="sm:hidden space-y-4">
  {% for expense in expenses %}
  <div class="bg-white shadow rounded-lg p-4 space-y-2">
    <div class="flex justify-between items-start">
      <h3 class="font-semibold text-gray-800">{{ expense.title }}</h3>
      <span class="font-semibold text-indigo-600">
        ₦{{ expense.amount|floatformat:2 }}
      </span>
    </div>

    <p class="text-sm text-gray-500">
      Date: {{ expense.expense_date }}
    </p>

    <div class="flex justify-end space-x-4 pt-2 border-t">
      <a href="{% url 'finance:expense_update' expense.id %}"
         class="text-green-600 text-sm font-medium">
        Edit
      </a>
      <a href="{% url 'finance:expense_delete' expense.id %}"
         class="text-red-600 text-sm font-medium">
        Delete
      </a>
    </div>
  </div>
  {% empty %}
  <div class="bg-white shadow rounded-lg p-6 text-center text-gray-500">
    No expenses found.
  </div>
  {% endfor %}
</div>

{% endblock %}
