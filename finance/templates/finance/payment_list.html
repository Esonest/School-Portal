{% extends "finance/base_finance.html" %}
{% block title %}Payments{% endblock %}

{% block actions %}
<a href="{% url 'finance:record_payment' %}"
   class="px-4 py-2 bg-indigo-600 text-white rounded">
  + Record Payment
</a>
{% endblock %}

{% block body %}
<div class="bg-white shadow rounded overflow-x-auto">
<table class="w-full text-sm">
  <thead class="bg-gray-100">
    <tr>
      <th class="p-3 text-left">Student</th>
      <th>Invoice</th>
      <th>Amount</th>
      <th>Date</th>
      <th>Method</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for payment in payments %}
    <tr class="border-t">
      <td class="p-3">{{ payment.invoice.student }}</td>
      <td>{{ payment.invoice.title }}</td>
      <td>â‚¦{{ payment.amount }}</td>
      <td>{{ payment.payment_date }}</td>
      <td>{{ payment.get_method_display }}</td>
      <td class="text-right space-x-2">
        <a href="{% url 'finance:payment_update' payment.id %}" class="text-green-600">Edit</a>
        <a href="{% url 'finance:payment_delete' payment.id %}" class="text-red-600">Delete</a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="6" class="p-6 text-center text-gray-500">
        No payments recorded
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% endblock %}
