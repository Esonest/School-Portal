{% extends "accounts/base.html" %}
{% block content %}

<div class="max-w-3xl mx-auto px-4 py-10">

  <!-- Header -->
<div class="mb-8 bg-white shadow-md rounded-2xl p-6">
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
    
    <!-- Title and School -->
    <div>
      <h2 class="text-3xl font-bold text-gray-800 flex items-center gap-2">ðŸ’³ Record Payment</h2>
      <p class="text-2xl font-bold text-{{ school.theme_color }}-600">{{ school.name }}</p>
    </div>

    <!-- Session & Term Dropdowns -->
    <div class="flex flex-col sm:flex-row gap-4">
      
      <!-- Session -->
      <div class="flex flex-col">
        <label class="text-sm font-medium text-gray-700 mb-1">Session</label>
        <select name="session" class="border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-400 focus:outline-none">
          {% for s in sessions %}
            <option value="{{ s }}" {% if s == session %}selected{% endif %}>{{ s }}</option>
          {% endfor %}
        </select>
      </div>

      <!-- Term -->
      <div class="flex flex-col">
        <label class="text-sm font-medium text-gray-700 mb-1">Term</label>
        <select name="term" class="border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-400 focus:outline-none">
          {% for key, value in term_choices %}
            <option value="{{ key }}" {% if key == term %}selected{% endif %}>{{ value }}</option>
          {% endfor %}
        </select>
      </div>

    </div>
    
  </div>
</div>


  <!-- Form -->
  <form method="post" class="bg-white rounded-2xl shadow p-8 space-y-6">
    {% csrf_token %}

    <!-- Class -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">
        Class
      </label>
      {{ form.school_class }}
    </div>

    <!-- Invoice -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">
        Invoice
      </label>
      {{ form.invoice }}
      <p class="text-xs text-gray-500 mt-1">
        Invoices are filtered by selected class
      </p>
    </div>

    <!-- Amount -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">
        Amount Paid
      </label>
      {{ form.amount }}
    </div>

    <!-- Payment Method -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">
        Payment Method
      </label>
      {{ form.payment_method }}
    </div>

    <!-- Buttons -->
    <div class="flex justify-end gap-4 pt-6">
      <a href="{% url 'finance:dashboard' %}"
         class="px-6 py-3 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition">
        Cancel
      </a>

      <button type="submit"
        class="px-8 py-3 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-bold transition">
        Save Payment
      </button>
    </div>

  </form>

</div>

{% endblock %}
