{% extends "finance/base_finance.html" %}
{% block title %}Invoices{% endblock %}

{% block actions %}
<a href="{% url 'finance:invoice_create' %}"
   class="px-4 py-2 bg-indigo-600 text-white rounded">
   + New Invoice
</a>
{% endblock %}

{% block body %}
<div class="bg-white shadow rounded overflow-x-auto">
  <table class="w-full text-sm">
    <thead class="bg-gray-100">
      <tr>
        <th class="p-3 text-left">Student</th>
        <th>Class</th>
        <th>Amount</th>
        <th>Paid</th>
        <th>Session</th>
        <th>Term</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for invoice in invoices %}
      <tr class="border-t">
        <td class="p-3">{{ invoice.student }}</td>
        <td>{{ invoice.school_class }}</td>
        <td>{{ invoice.total_amount }}</td>
        <td>{{ invoice.amount_paid }}</td>
        <td>{{ invoice.session }}</td>
        <td>{{ invoice.get_term_display }}</td>
        <td class="text-right space-x-2">
          <a href="{% url 'finance:invoice_update' invoice.id %}" class="text-green-600">Edit</a>
          <a href="{% url 'finance:invoice_delete' invoice.id %}"class="text-red-600">Delete</a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="7" class="p-6 text-center text-gray-500">
          No records found
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
